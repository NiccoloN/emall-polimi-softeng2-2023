participant "Web App" as app
participant "eMSS Gateway" as gt
participant "Stations Manager" as manager
participant "Stations Manager DB" as db
participant "Station API" as station

activate app
app->>gt:getStationsInRange(position, range)
activate gt
gt->>manager:sendStationsInRange(user, position, range)
activate manager
deactivate gt
manager->db:getStationsInRange
activate db
manager<--db:stations
deactivate db
manager-->>app:stations
deactivate manager


app->>gt:getStationDetails(stationIDs)
activate gt
gt->>manager:sendAllDetails(user, stationIDs)
deactivate gt
activate manager
manager->>station:getStationDetails(stationIDs)
activate station
manager->db:getStationDetails(stationIDs)
activate db
manager<--db:staticDetails
deactivate db
station-->>manager:dynamicDetails
deactivate station
manager-->>app:details
deactivate manager


app->>gt:setPrice(sationIDs, socketType, price)
activate gt
gt->>manager:setPrice(user, sationIDs, socketType, price)
activate manager
deactivate gt
manager->>station:setPrice(price)
activate station
manager->db:updatePrice
activate db
db-->manager: result
deactivate db
station-->>manager: result
deactivate station
manager-->app:result
deactivate manager

app->>gt:chargeBatteries(stationIDs)
activate gt
gt->>manager:chargeBatteries(user, stationIDs)
deactivate gt
activate manager
manager->>station:chargeBatteries
activate station
station-->>manager: result
manager-->>app:result
deactivate manager
